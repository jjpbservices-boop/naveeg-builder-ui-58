"use strict";(()=>{var e={};e.id=607,e.ids=[607],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},1282:e=>{e.exports=require("child_process")},4770:e=>{e.exports=require("crypto")},7702:e=>{e.exports=require("events")},2615:e=>{e.exports=require("http")},5240:e=>{e.exports=require("https")},1764:e=>{e.exports=require("util")},7881:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>x,patchFetch:()=>P,requestAsyncStorage:()=>m,routeModule:()=>d,serverHooks:()=>h,staticGenerationAsyncStorage:()=>g});var s={};r.r(s),r.d(s,{POST:()=>l});var i=r(4398),o=r(5328),a=r(6982),n=r(3317),u=r(9261);let c={starter:{name:"Starter",eur:49,stripePrice:process.env.STRIPE_PRICE_STARTER,features:["AI-generated website creation","Hosting + SSL included","Up to 5 pages","1 free domain (first year)","Daily backups & 1-click restore","GDPR-compliant EU hosting","Intuitive dashboard","Email/chat support (business hours)"]},pro:{name:"Pro",eur:99,stripePrice:process.env.STRIPE_PRICE_PRO,mostPopular:!0,features:["Everything in Starter","Unlimited pages + blog","AI Copilot for content edits","Built-in SEO and Analytics tools","Marketing automations","Priority support (chat + extended hours)","Multi-language site setup","Advanced customization","Mobile SEO suggestions"]},custom:{name:"Custom",contact:!0,features:["Multi-site management","Advanced integrations (APIs, workflows)","Dedicated onboarding & training","SLA & enhanced security options","24/7 enterprise support","Custom infrastructure & scalability","Tailored feature roadmap","Account manager"]}},p=new u.Z(process.env.STRIPE_SECRET_KEY,{apiVersion:"2023-10-16"});async function l(e){try{let{plan:t}=await e.json();if(!t||!c[t])return n.NextResponse.json({error:"Invalid plan specified"},{status:400});let r=c[t];if("contact"in r&&!0===r.contact)return n.NextResponse.json({error:"Custom plans require contacting sales"},{status:400});if(!r.stripePrice)return n.NextResponse.json({error:"Stripe price not configured for this plan"},{status:500});let s="mock-user-id",i=await p.checkout.sessions.create({mode:"subscription",customer_email:"user@example.com",line_items:[{price:r.stripePrice,quantity:1}],success_url:`${e.nextUrl.origin}/app/billing?success=1`,cancel_url:`${e.nextUrl.origin}/app/billing`,metadata:{userId:s,plan:t},subscription_data:{metadata:{userId:s,plan:t}}});return n.NextResponse.json({url:i.url})}catch(e){return console.error("Error creating checkout session:",e),n.NextResponse.json({error:"Failed to create checkout session"},{status:500})}}let d=new i.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/checkout/route",pathname:"/api/checkout",filename:"route",bundlePath:"app/api/checkout/route"},resolvedPagePath:"/Users/jonathanbunel/naveeg-builder-ui-58/apps/dashboard/src/app/api/checkout/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:m,staticGenerationAsyncStorage:g,serverHooks:h}=d,x="/api/checkout/route";function P(){return(0,a.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:g})}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[821,500,261],()=>r(7881));module.exports=s})();