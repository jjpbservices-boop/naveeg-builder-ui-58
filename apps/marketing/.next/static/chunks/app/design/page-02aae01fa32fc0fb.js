(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[535],{7856:function(e,t,n){Promise.resolve().then(n.bind(n,1431))},1431:function(e,t,n){"use strict";n.d(t,{default:function(){return l}});var r=n(5626),o=n(4087),s=n(4741),a=n(1064),i=n(5717);function l(e){var t,n,l,c;let{draft:d,endpoints:u}=e,[h,m]=(0,o.useState)(d),[p,g]=(0,o.useState)(!1),[x,f]=(0,o.useState)(!1),[b,y]=(0,o.useState)(null),v=async()=>{if(h){g(!0);try{if(!(await fetch(u.save,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({draft_id:h.id||h.website_id,colors:h.colors,fonts:h.fonts,pages_meta:h.pages_meta})})).ok)throw Error("Failed to save")}catch(e){console.error("Failed to save:",e)}finally{g(!1)}}},j=async()=>{if(h){f(!0);try{let e=await fetch(u.preview,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({draft_id:h.id||h.website_id})});if(!e.ok)throw Error("Failed to preview");let t=await e.json();t.url&&(y(t.url),window.open(t.url,"_blank"))}catch(e){console.error("Failed to preview:",e)}finally{f(!1)}}},w=async()=>{if(h)try{if(!(await fetch(u.attach,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({draft_id:h.id||h.website_id})})).ok)throw Error("Failed to attach");window.location.href="".concat(i.env.NEXT_PUBLIC_DASHBOARD_URL,"/app")}catch(e){console.error("Failed to attach to user:",e)}},N=e=>{if(!h)return;let t={section_title:"Section ".concat(h.pages_meta[e].sections.length+1),section_description:"Custom section content"},n=[...h.pages_meta];n[e].sections.push(t),m({...h,pages_meta:n})},_=(e,t,n)=>{if(!h)return;let r=[...h.pages_meta];r[e]={...r[e],[t]:n},m({...h,pages_meta:r})},k=(e,t,n,r)=>{if(!h)return;let o=[...h.pages_meta];o[e].sections[t]={...o[e].sections[t],[n]:r},m({...h,pages_meta:o})},Z=e=>{if(!h||h.pages_meta.length<=5)return;let t=h.pages_meta.filter((t,n)=>n!==e);m({...h,pages_meta:t})},C=(e,t)=>{if(!h||h.pages_meta[e].sections.length<=5)return;let n=[...h.pages_meta];n[e].sections=n[e].sections.filter((e,n)=>n!==t),m({...h,pages_meta:n})};return h?(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-6",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,r.jsxs)(s.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Design Your Website"}),(0,r.jsx)("p",{className:"text-xl text-gray-600",children:"Customize colors, fonts, and structure. We pre-selected colors based on your business info. If you already have a brand palette, update your Primary and Secondary colors here."}),h.region&&(0,r.jsxs)("p",{className:"text-xs text-neutral-500 mt-2",children:["Datacenter: Frankfurt (",h.region,")"]}),h.slug&&(0,r.jsxs)("p",{className:"text-sm text-blue-600 mt-2",children:["Your website: ",(0,r.jsxs)("span",{className:"font-mono",children:[h.slug,".naveeg.com"]})]})]}),(0,r.jsxs)("div",{className:"grid lg:grid-cols-2 gap-8",children:[(0,r.jsxs)(s.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},className:"bg-white rounded-2xl shadow-xl p-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Customize Design"}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Colors"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Primary Color"}),(0,r.jsx)("input",{type:"color",value:(null===(t=h.colors)||void 0===t?void 0:t.primary_color)||"#3B82F6",onChange:e=>m({...h,colors:{...h.colors,primary_color:e.target.value}}),className:"w-full h-12 rounded-lg border border-gray-300"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Secondary Color"}),(0,r.jsx)("input",{type:"color",value:(null===(n=h.colors)||void 0===n?void 0:n.secondary_color)||"#8B5CF6",onChange:e=>m({...h,colors:{...h.colors,secondary_color:e.target.value}}),className:"w-full h-12 rounded-lg border border-gray-300"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Background Dark"}),(0,r.jsx)("input",{type:"color",value:(null===(l=h.colors)||void 0===l?void 0:l.background_dark)||"#1F2937",onChange:e=>m({...h,colors:{...h.colors,background_dark:e.target.value}}),className:"w-full h-12 rounded-lg border border-gray-300"})]})]})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Fonts"}),(0,r.jsxs)("select",{value:(null===(c=h.fonts)||void 0===c?void 0:c.primary_font)||"Poppins",onChange:e=>m({...h,fonts:{...h.fonts,primary_font:e.target.value}}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[(0,r.jsx)("option",{value:"Poppins",children:"Poppins"}),(0,r.jsx)("option",{value:"Inter",children:"Inter"}),(0,r.jsx)("option",{value:"Roboto",children:"Roboto"}),(0,r.jsx)("option",{value:"Open Sans",children:"Open Sans"}),(0,r.jsx)("option",{value:"Lato",children:"Lato"})]})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)("button",{onClick:v,disabled:p,className:"w-full bg-blue-600 text-white py-3 px-6 rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 transition-colors",children:p?"Saving...":"Save Changes"}),(0,r.jsx)("button",{onClick:j,disabled:x,className:"w-full bg-green-600 text-white py-3 px-6 rounded-lg font-medium hover:bg-green-700 disabled:opacity-50 transition-colors",children:x?"Generating Preview...":"Preview Website"}),(0,r.jsx)("button",{onClick:w,className:"w-full bg-purple-600 text-white py-3 px-6 rounded-lg font-medium hover:bg-purple-700 transition-colors",children:"Sign Up & Continue"})]})]}),(0,r.jsxs)(s.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4},className:"bg-white rounded-2xl shadow-xl p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Website Structure"}),(0,r.jsx)("button",{onClick:()=>{if(!h)return;let e={title:"Page ".concat(h.pages_meta.length+1),description:"Custom page ".concat(h.pages_meta.length+1),sections:[{section_title:"Hero Section",section_description:"Main content area"},{section_title:"About Section",section_description:"Information about this page"}]};m({...h,pages_meta:[...h.pages_meta,e]})},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Add Page"})]}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Always render at least 5 suggested pages with 5 sections each. You can add or remove before building."}),(0,r.jsx)("div",{className:"space-y-4",children:h.pages_meta.map((e,t)=>(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsx)("input",{type:"text",value:e.title,onChange:e=>_(t,"title",e.target.value),className:"text-lg font-semibold text-gray-900 bg-transparent border-none focus:outline-none focus:ring-2 focus:ring-blue-500 rounded px-2"}),(0,r.jsx)("button",{onClick:()=>Z(t),disabled:h.pages_meta.length<=5,className:"text-red-600 hover:text-red-800 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,r.jsx)(a.Icon,{name:"trash-2",className:"w-4 h-4"})})]}),(0,r.jsx)("input",{type:"text",value:e.description,onChange:e=>_(t,"description",e.target.value),placeholder:"Page description...",className:"w-full text-sm text-gray-600 bg-transparent border-none focus:outline-none focus:ring-2 focus:ring-blue-500 rounded px-2 mb-3"}),(0,r.jsxs)("div",{className:"space-y-2",children:[e.sections.map((n,o)=>(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("input",{type:"text",value:n.section_title,onChange:e=>k(t,o,"section_title",e.target.value),className:"flex-1 text-sm text-gray-800 bg-transparent border-none focus:outline-none focus:ring-2 focus:ring-blue-500 rounded px-2"}),(0,r.jsx)("button",{onClick:()=>C(t,o),disabled:e.sections.length<=5,className:"text-red-500 hover:text-red-700 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,r.jsx)(a.Icon,{name:"x",className:"w-3 h-3"})})]},o)),(0,r.jsx)("button",{onClick:()=>N(t),className:"text-blue-600 hover:text-blue-800 text-sm",children:"+ Add Section"})]})]},t))})]})]})]})}):(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Design Not Found"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Please start the onboarding process to continue."}),(0,r.jsx)("a",{href:"/start",className:"inline-block mt-4 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Go to Start"})]})})}},5717:function(e,t,n){"use strict";var r,o;e.exports=(null==(r=n.g.process)?void 0:r.env)&&"object"==typeof(null==(o=n.g.process)?void 0:o.env)?n.g.process:n(2913)},2913:function(e){!function(){var t={229:function(e){var t,n,r,o=e.exports={};function s(){throw Error("setTimeout has not been defined")}function a(){throw Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===s||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:s}catch(e){t=s}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var l=[],c=!1,d=-1;function u(){c&&r&&(c=!1,r.length?l=r.concat(l):d=-1,l.length&&h())}function h(){if(!c){var e=i(u);c=!0;for(var t=l.length;t;){for(r=l,l=[];++d<t;)r&&r[d].run();d=-1,t=l.length}r=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function p(){}o.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new m(e,t)),1!==l.length||c||i(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=p,o.addListener=p,o.once=p,o.off=p,o.removeListener=p,o.removeAllListeners=p,o.emit=p,o.prependListener=p,o.prependOnceListener=p,o.listeners=function(e){return[]},o.binding=function(e){throw Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw Error("process.chdir is not supported")},o.umask=function(){return 0}}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var s=n[e]={exports:{}},a=!0;try{t[e](s,s.exports,r),a=!1}finally{a&&delete n[e]}return s.exports}r.ab="//";var o=r(229);e.exports=o}()},1064:function(e,t,n){"use strict";n.r(t),n.d(t,{Icon:function(){return Y}});var r=n(5626),o=n(4087),s=n(2982),a=n(6478),i=n(9706),l=n(7689),c=n(7519),d=n(8420),u=n(2316),h=n(1144),m=n(5468),p=n(4704),g=n(729),x=n(1785),f=n(359),b=n(5539),y=n(1719),v=n(8136),j=n(871),w=n(7563),N=n(4379),_=n(4591),k=n(3360),Z=n(2265),C=n(2002),S=n(40),T=n(8112),P=n(6285),E=n(6551),F=n(1184),O=n(7256),L=n(7828),A=n(8869),I=n(7826),D=n(6024),B=n(4281),W=n(4504),R=n(5737),z=n(3427);let J={home:s.Z,settings:a.Z,"credit-card":i.Z,"bar-chart-3":l.Z,"chevron-left":c.Z,"chevron-right":d.Z,"chevron-down":u.Z,crown:h.Z,"edit-3":m.Z,play:p.Z,check:g.Z,"check-circle":x.Z,"external-link":f.Z,globe:b.Z,eye:y.Z,search:v.Z,zap:j.Z,"loader-2":w.Z,bot:N.Z,building:_.Z,building2:k.Z,"building-2":k.Z,rocket:Z.Z,"trending-up":C.Z,"trending-down":S.Z,"server-cog":T.Z,"alert-circle":P.Z,"arrow-left":E.Z,"arrow-right":F.Z,download:O.Z,"log-out":L.Z,"trash-2":A.Z,x:I.Z,"panels-top-left":D.Z,globe2:B.Z,"key-round":W.Z,star:R.Z,info:z.Z};function U(e){let{name:t,className:n,...o}=e,s=J[t];return s?(0,r.jsx)(s,{className:n,"aria-hidden":"true",...o}):(0,r.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:n,"aria-hidden":"true","data-fallback":!0,...o,children:(0,r.jsx)("circle",{cx:"12",cy:"12",r:"10"})})}function Y(e){let[t,n]=(0,o.useState)(!1);return((0,o.useEffect)(()=>{n(!0)},[]),t)?(0,r.jsx)(U,{...e}):(0,r.jsx)("span",{className:"inline-block align-middle","aria-hidden":"true"})}}},function(e){e.O(0,[741,87,849,796,744],function(){return e(e.s=7856)}),_N_E=e.O()}]);