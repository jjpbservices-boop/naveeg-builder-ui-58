"use strict";(()=>{var e={};e.id=90,e.ids=[90],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},8227:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>f,patchFetch:()=>h,requestAsyncStorage:()=>p,routeModule:()=>c,serverHooks:()=>l,staticGenerationAsyncStorage:()=>g});var a={};r.r(a),r.d(a,{POST:()=>u});var n=r(4398),s=r(5328),i=r(6982),o=r(3317),d=r(5093);async function u(e){try{let{draft_id:t,...r}=await e.json();if(!t)return o.NextResponse.json({error:"Draft ID is required"},{status:400});let a=await (0,d.saveDesign)(t,r);return o.NextResponse.json(a??{success:!0})}catch(e){return console.error("Save design error:",e),o.NextResponse.json({error:"Failed to save design"},{status:500})}}let c=new n.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/(onboarding)/design/save/route",pathname:"/design/save",filename:"route",bundlePath:"app/(onboarding)/design/save/route"},resolvedPagePath:"/Users/jonathanbunel/naveeg-builder-ui-58/apps/marketing/src/app/(onboarding)/design/save/route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:p,staticGenerationAsyncStorage:g,serverHooks:l}=c,f="/(onboarding)/design/save/route";function h(){return(0,i.patchFetch)({serverHooks:l,staticGenerationAsyncStorage:g})}},5093:(e,t,r)=>{r.r(t),r.d(t,{loadDesign:()=>o,saveDesign:()=>d});var a=r(7883);r(5819);var n=r(1869);let s="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVpbHBhemVnanJjcndncHVqcW5pIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ1NzYxNjksImV4cCI6MjA3MDE1MjE2OX0.LV5FvbQQGf0Kv-O1uA0tsS-Yam6rB1x937BgqFsJoX4";async function i(e){let t=await fetch("https://eilpazegjrcrwgpujqni.supabase.co/functions/v1/ai-router",{method:"POST",headers:{"content-type":"application/json",apikey:s,Authorization:`Bearer ${s}`,Origin:"http://localhost:4311"},body:JSON.stringify(e),cache:"no-store"});if(!t.ok){let e=await t.text().catch(()=>"");throw Error(`ai-router ${t.status}: ${e}`)}return t.json()}async function o(e){let t=await i({action:"get-draft",draft_id:e});if(!t?.ok)throw Error(t?.message??"get-draft failed");return t.data}async function d(e){let t=await i({action:"save-draft",...e});if(!t?.ok)throw Error(t?.message??"save-draft failed");return t.data}(0,n.h)([o,d]),(0,a.j)("7be64f446b1487bceac8564a2d982b07637b520f",o),(0,a.j)("b255cb5f4a79ee19ba7d63c7bb83fedb4718c068",d)}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[646,558,955],()=>r(8227));module.exports=a})();