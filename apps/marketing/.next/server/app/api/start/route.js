"use strict";(()=>{var e={};e.id=477,e.ids=[477],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6006:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>h,patchFetch:()=>g,requestAsyncStorage:()=>c,routeModule:()=>u,serverHooks:()=>d,staticGenerationAsyncStorage:()=>l});var n={};r.r(n),r.d(n,{OPTIONS:()=>p,POST:()=>i});var a=r(4398),s=r(5328),o=r(6982);async function i(e){try{let t=e.headers.get("origin")||"",r="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVpbHBh",n="https://eilpazegjrcrwgpujqni.supabase.co";if(!r||!n)return new Response(JSON.stringify({ok:!1,message:"Missing environment variables: NEXT_PUBLIC_SUPABASE_ANON_KEY or NEXT_PUBLIC_SUPABASE_URL"}),{status:500,headers:{"content-type":"application/json"}});let a=`${n}/functions/v1/ai-router`,s=await e.json(),o=JSON.stringify({action:"create-draft",brief:s}),i=await fetch(a,{method:"POST",headers:{"content-type":"application/json",apikey:r,Authorization:`Bearer ${r}`,origin:t},body:o}),p=await i.text();return new Response(p,{status:i.status,headers:{"content-type":i.headers.get("content-type")??"application/json"}})}catch(e){return console.error("API Error:",e),new Response(JSON.stringify({ok:!1,message:"Internal error",error:e instanceof Error?e.message:"Unknown error"}),{status:500,headers:{"content-type":"application/json"}})}}function p(e){return new Response(null,{status:204,headers:{"Access-Control-Allow-Origin":e.headers.get("origin")||"*","Access-Control-Allow-Methods":"POST,OPTIONS","Access-Control-Allow-Headers":"authorization,content-type,x-client-info,apikey",Vary:"Origin"}})}let u=new a.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/start/route",pathname:"/api/start",filename:"route",bundlePath:"app/api/start/route"},resolvedPagePath:"/Users/jonathanbunel/naveeg-builder-ui-58/apps/marketing/src/app/api/start/route.ts",nextConfigOutput:"",userland:n}),{requestAsyncStorage:c,staticGenerationAsyncStorage:l,serverHooks:d}=u,h="/api/start/route";function g(){return(0,o.patchFetch)({serverHooks:d,staticGenerationAsyncStorage:l})}},4398:(e,t,r)=>{e.exports=r(517)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[646],()=>r(6006));module.exports=n})();